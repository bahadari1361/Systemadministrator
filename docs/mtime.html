<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Trader's Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --dark-bg: #0a0e17;
            --card-bg: #1a2035;
            --accent-blue: #3a86ff;
            --accent-green: #2ecc71;
            --accent-red: #e74c3c;
            --text-primary: #ecf0f1;
            --text-secondary: #bdc3c7;
            --border-radius: 10px;
            --box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: var(--dark-bg);
            color: var(--text-primary);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--box-shadow);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 10px;
        }

        .market-status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-open { background: var(--accent-green); color: white; }
        .status-closed { background: var(--accent-red); color: white; }
        .status-pre { background: #f39c12; color: white; }
        .status-post { background: #9b59b6; color: white; }

        .time-display {
            font-size: 2.5rem;
            font-family: 'Courier New', monospace;
            font-weight: 700;
            margin: 10px 0;
            letter-spacing: 2px;
        }

        .date-display {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .progress-container {
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            margin: 15px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-blue), #00cec9);
        }

        .news-container {
            height: 300px;
            overflow-y: auto;
            scrollbar-width: thin;
        }

        .news-item {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .news-item h4 {
            margin: 0 0 5px 0;
            font-size: 0.95rem;
        }

        .news-item p {
            margin: 0;
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        .news-source {
            display: inline-block;
            background: rgba(58, 134, 255, 0.2);
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            margin-top: 5px;
        }

        .tabs {
            display: flex;
            margin-bottom: 15px;
        }

        .tab {
            padding: 8px 15px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            font-size: 0.9rem;
        }

        .tab.active {
            border-bottom: 2px solid var(--accent-blue);
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .time-display {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <!-- Market Clocks Section -->
        <div class="card">
            <div class="card-header">
                <h2><i class="fas fa-clock"></i> Market Hours</h2>
                <div id="lastUpdated">Loading...</div>
            </div>
            
            <div class="tabs">
                <div class="tab active" onclick="changeTab('stocks')">Stocks</div>
                <div class="tab" onclick="changeTab('forex')">Forex</div>
                <div class="tab" onclick="changeTab('crypto')">Crypto</div>
            </div>
            
            <div id="stocks-clocks">
                <!-- Frankfurt -->
                <h3><i class="fas fa-landmark"></i> Frankfurt</h3>
                <div class="time-display" id="frankfurtTime">--:--:--</div>
                <div class="date-display" id="frankfurtDate">Loading...</div>
                <div class="market-status status-closed" id="frankfurtStatus">Closed</div>
                <div class="progress-container">
                    <div class="progress-bar" id="frankfurtProgress" style="width: 0%"></div>
                </div>
                
                <!-- London -->
                <h3 style="margin-top: 20px;"><i class="fas fa-pound-sign"></i> London</h3>
                <div class="time-display" id="londonTime">--:--:--</div>
                <div class="date-display" id="londonDate">Loading...</div>
                <div class="market-status status-closed" id="londonStatus">Closed</div>
                <div class="progress-container">
                    <div class="progress-bar" id="londonProgress" style="width: 0%"></div>
                </div>
                
                <!-- New York -->
                <h3 style="margin-top: 20px;"><i class="fas fa-dollar-sign"></i> New York</h3>
                <div class="time-display" id="newyorkTime">--:--:--</div>
                <div class="date-display" id="newyorkDate">Loading...</div>
                <div class="market-status status-closed" id="newyorkStatus">Closed</div>
                <div class="progress-container">
                    <div class="progress-bar" id="newyorkProgress" style="width: 0%"></div>
                </div>
            </div>
            
            <div id="forex-clocks" style="display: none;">
                <h3><i class="fas fa-globe"></i> Forex Market</h3>
                <div class="time-display">24/5</div>
                <div class="market-status status-open">Open</div>
                <p style="color: var(--text-secondary); margin-top: 10px;">Closes Friday 5PM EST | Opens Sunday 5PM EST</p>
            </div>
            
            <div id="crypto-clocks" style="display: none;">
                <h3><i class="fas fa-coins"></i> Crypto Market</h3>
                <div class="time-display">24/7</div>
                <div class="market-status status-open">Open</div>
                <p style="color: var(--text-secondary); margin-top: 10px;">No market closures</p>
            </div>
        </div>

        <!-- Financial News Section -->
        <div class="card">
            <div class="card-header">
                <h2><i class="fas fa-newspaper"></i> Financial News</h2>
                <div><i class="fas fa-sync-alt" onclick="fetchNews()" style="cursor: pointer;"></i></div>
            </div>
            <div class="news-container" id="newsContainer">
                <div class="news-item">
                    <h4>Loading financial news...</h4>
                    <p>Fetching latest market updates</p>
                </div>
            </div>
        </div>

        <!-- Trading Tools Section -->
        <div class="card">
            <div class="card-header">
                <h2><i class="fas fa-tools"></i> Trading Tools</h2>
            </div>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px;">
                <a href="https://www.tradingview.com/" target="_blank" style="text-decoration: none; color: inherit;">
                    <div style="background: rgba(58, 134, 255, 0.1); padding: 15px; border-radius: 8px; text-align: center;">
                        <i class="fas fa-chart-line" style="font-size: 1.5rem; margin-bottom: 5px;"></i>
                        <div>TradingView</div>
                    </div>
                </a>
                <a href="https://www.investing.com/economic-calendar/" target="_blank" style="text-decoration: none; color: inherit;">
                    <div style="background: rgba(46, 204, 113, 0.1); padding: 15px; border-radius: 8px; text-align: center;">
                        <i class="fas fa-calendar-alt" style="font-size: 1.5rem; margin-bottom: 5px;"></i>
                        <div>Economic Calendar</div>
                    </div>
                </a>
                <a href="https://www.bloomberg.com/markets" target="_blank" style="text-decoration: none; color: inherit;">
                    <div style="background: rgba(155, 89, 182, 0.1); padding: 15px; border-radius: 8px; text-align: center;">
                        <i class="fas fa-chart-bar" style="font-size: 1.5rem; margin-bottom: 5px;"></i>
                        <div>Market Data</div>
                    </div>
                </a>
                <a href="https://www.finviz.com/" target="_blank" style="text-decoration: none; color: inherit;">
                    <div style="background: rgba(231, 76, 60, 0.1); padding: 15px; border-radius: 8px; text-align: center;">
                        <i class="fas fa-search-dollar" style="font-size: 1.5rem; margin-bottom: 5px;"></i>
                        <div>Screener</div>
                    </div>
                </a>
            </div>
            
            <h3 style="margin-top: 20px;"><i class="fas fa-exchange-alt"></i> Market Sessions</h3>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 10px; border-radius: 8px; margin-top: 10px;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                    <span>Asian Session</span>
                    <span id="asianSessionTime">00:00-09:00 GMT</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                    <span>London Session</span>
                    <span id="londonSessionTime">08:00-16:30 GMT</span>
                </div>
                <div style="display: flex; justify-content: space-between;">
                    <span>New York Session</span>
                    <span id="nySessionTime">13:30-22:00 GMT</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Configuration
        const config = {
            updateInterval: 1000,
            newsApiKey: 'YOUR_NEWSAPI_KEY', // Replace with your NewsAPI key
            marketHours: {
                frankfurt: { open: 8, close: 22, days: [1,2,3,4,5] }, // Mon-Fri 8AM-10PM CET
                london: { open: 8, close: 16.5, days: [1,2,3,4,5] }, // Mon-Fri 8AM-4:30PM GMT
                newyork: { open: 9.5, close: 16, days: [1,2,3,4,5] }  // Mon-Fri 9:30AM-4PM EST
            }
        };

        // DOM Elements
        const elements = {
            lastUpdated: document.getElementById('lastUpdated'),
            // Frankfurt
            frankfurtTime: document.getElementById('frankfurtTime'),
            frankfurtDate: document.getElementById('frankfurtDate'),
            frankfurtStatus: document.getElementById('frankfurtStatus'),
            frankfurtProgress: document.getElementById('frankfurtProgress'),
            // London
            londonTime: document.getElementById('londonTime'),
            londonDate: document.getElementById('londonDate'),
            londonStatus: document.getElementById('londonStatus'),
            londonProgress: document.getElementById('londonProgress'),
            // New York
            newyorkTime: document.getElementById('newyorkTime'),
            newyorkDate: document.getElementById('newyorkDate'),
            newyorkStatus: document.getElementById('newyorkStatus'),
            newyorkProgress: document.getElementById('newyorkProgress'),
            // Session times
            asianSessionTime: document.getElementById('asianSessionTime'),
            londonSessionTime: document.getElementById('londonSessionTime'),
            nySessionTime: document.getElementById('nySessionTime'),
            // News
            newsContainer: document.getElementById('newsContainer'),
            // Tabs
            stocksClocks: document.getElementById('stocks-clocks'),
            forexClocks: document.getElementById('forex-clocks'),
            cryptoClocks: document.getElementById('crypto-clocks')
        };

        // Format time
        function formatTime(date, timeZone) {
            return date.toLocaleTimeString('en-US', {
                timeZone,
                hour12: false,
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            }).replace(/^24:/, '00:');
        }

        // Format date
        function formatDate(date, timeZone) {
            return date.toLocaleDateString('en-US', {
                timeZone,
                weekday: 'short',
                year: 'numeric',
                month: 'short',
                day: 'numeric'
            });
        }

        // Check if market is open
        function isMarketOpen(market, now) {
            const localTime = new Date(now.toLocaleString('en-US', { 
                timeZone: market === 'newyork' ? 'America/New_York' : 
                         market === 'london' ? 'Europe/London' : 'Europe/Berlin'
            }));
            
            const day = localTime.getDay(); // 0 (Sun) to 6 (Sat)
            const hour = localTime.getHours() + (localTime.getMinutes() / 60);
            
            // Check if weekday and within hours
            return config.marketHours[market].days.includes(day) && 
                   hour >= config.marketHours[market].open && 
                   hour < config.marketHours[market].close;
        }

        // Calculate market progress
        function calculateMarketProgress(market, now) {
            const localTime = new Date(now.toLocaleString('en-US', { 
                timeZone: market === 'newyork' ? 'America/New_York' : 
                         market === 'london' ? 'Europe/London' : 'Europe/Berlin'
            }));
            
            const day = localTime.getDay();
            const hour = localTime.getHours() + (localTime.getMinutes() / 60);
            
            if (!config.marketHours[market].days.includes(day) return 0;
            if (hour < config.marketHours[market].open) return 0;
            if (hour >= config.marketHours[market].close) return 100;
            
            const sessionLength = config.marketHours[market].close - config.marketHours[market].open;
            const progress = ((hour - config.marketHours[market].open) / sessionLength) * 100;
            
            return Math.min(100, Math.max(0, progress));
        }

        // Update all market clocks
        function updateClocks() {
            const now = new Date();
            
            // Update timestamp
            elements.lastUpdated.textContent = `Updated: ${formatTime(now, 'GMT')} GMT`;
            
            // Frankfurt
            elements.frankfurtTime.textContent = formatTime(now, 'Europe/Berlin');
            elements.frankfurtDate.textContent = formatDate(now, 'Europe/Berlin');
            const frankfurtOpen = isMarketOpen('frankfurt', now);
            elements.frankfurtStatus.textContent = frankfurtOpen ? 'Open' : 'Closed';
            elements.frankfurtStatus.className = frankfurtOpen ? 'market-status status-open' : 'market-status status-closed';
            elements.frankfurtProgress.style.width = `${calculateMarketProgress('frankfurt', now)}%`;
            
            // London
            elements.londonTime.textContent = formatTime(now, 'Europe/London');
            elements.londonDate.textContent = formatDate(now, 'Europe/London');
            const londonOpen = isMarketOpen('london', now);
            elements.londonStatus.textContent = londonOpen ? 'Open' : 'Closed';
            elements.londonStatus.className = londonOpen ? 'market-status status-open' : 'market-status status-closed';
            elements.londonProgress.style.width = `${calculateMarketProgress('london', now)}%`;
            
            // New York
            elements.newyorkTime.textContent = formatTime(now, 'America/New_York');
            elements.newyorkDate.textContent = formatDate(now, 'America/New_York');
            const newyorkOpen = isMarketOpen('newyork', now);
            elements.newyorkStatus.textContent = newyorkOpen ? 'Open' : 'Closed';
            elements.newyorkStatus.className = newyorkOpen ? 'market-status status-open' : 'market-status status-closed';
            elements.newyorkProgress.style.width = `${calculateMarketProgress('newyork', now)}%`;
        }

        // Fetch financial news
        async function fetchNews() {
            try {
                elements.newsContainer.innerHTML = '<div class="news-item"><h4>Loading latest news...</h4><p>Please wait</p></div>';
                
                // Note: In a real implementation, you would use the NewsAPI
                // const response = await fetch(`https://newsapi.org/v2/top-headlines?category=business&apiKey=${config.newsApiKey}`);
                // const data = await response.json();
                
                // Mock data for demonstration
                const mockNews = [
                    {
                        title: "Fed Signals Potential Rate Cuts Amid Economic Slowdown",
                        description: "Federal Reserve officials indicate possible rate reductions in Q3 as inflation cools.",
                        source: "Bloomberg"
                    },
                    {
                        title: "Tech Stocks Rally After Strong Earnings Reports",
                        description: "Major tech companies beat earnings expectations, driving NASDAQ to record highs.",
                        source: "CNBC"
                    },
                    {
                        title: "Oil Prices Surge Following Middle East Tensions",
                        description: "Brent crude jumps 3% after reports of supply disruptions in the region.",
                        source: "Reuters"
                    },
                    {
                        title: "ECB Maintains Rates Despite Growth Concerns",
                        description: "European Central Bank holds steady on interest rates amid mixed economic signals.",
                        source: "Financial Times"
                    },
                    {
                        title: "Bitcoin Volatility Increases Ahead of Halving Event",
                        description: "Cryptocurrency markets show heightened activity as halving date approaches.",
                        source: "CoinDesk"
                    }
                ];
                
                elements.newsContainer.innerHTML = '';
                mockNews.forEach(item => {
                    const newsItem = document.createElement('div');
                    newsItem.className = 'news-item';
                    newsItem.innerHTML = `
                        <h4>${item.title}</h4>
                        <p>${item.description}</p>
                        <span class="news-source">${item.source}</span>
                    `;
                    elements.newsContainer.appendChild(newsItem);
                });
                
            } catch (error) {
                elements.newsContainer.innerHTML = '<div class="news-item"><h4>Error loading news</h4><p>Please try again later</p></div>';
                console.error('Error fetching news:', error);
            }
        }

        // Change between market tabs
        function changeTab(tab) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            
            elements.stocksClocks.style.display = 'none';
            elements.forexClocks.style.display = 'none';
            elements.cryptoClocks.style.display = 'none';
            
            if (tab === 'stocks') elements.stocksClocks.style.display = 'block';
            if (tab === 'forex') elements.forexClocks.style.display = 'block';
            if (tab === 'crypto') elements.cryptoClocks.style.display = 'block';
        }

        // Initialize
        updateClocks();
        setInterval(updateClocks, config.updateInterval);
        fetchNews();
        
        // Set session times
        elements.asianSessionTime.textContent = '00:00-09:00 GMT';
        elements.londonSessionTime.textContent = '08:00-16:30 GMT';
        elements.nySessionTime.textContent = '13:30-22:00 GMT';
    </script>
</body>
</html>
